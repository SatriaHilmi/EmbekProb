---
function shuffleArray(array: { src: string; alt: string }[]) {
    let newArray = [...array];
    for (let i = newArray.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
    }
    return newArray;
}

const rawCards = [
    {
        src: "https://images.unsplash.com/photo-1500530855697-b586d89ba3ee",
        alt: "Farm",
    },
    {
        src: "https://images.unsplash.com/photo-1529692236671-f1f6cf9683ba",
        alt: "People",
    },
    {
        src: "https://images.unsplash.com/photo-1464226184884-fa280b87c399",
        alt: "Farm work",
    },
    {
        src: "https://images.unsplash.com/photo-1501004318641-b39e6451bec6",
        alt: "Tractor",
    },
    {
        src: "https://images.unsplash.com/photo-1508672019048-805c876b67e2",
        alt: "Vegetables",
    },
    {
        src: "https://images.unsplash.com/photo-1504593811423-6dd665756598",
        alt: "Nature",
    },
];

// shuffle supaya acak setiap reload
const cards = shuffleArray(rawCards);
---

<div class="max-w-7xl mx-auto px-6 py-12">
    <div
        class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 auto-rows-[220px]"
    >
        <!-- kartu acak pertama -->
        {
            cards.slice(0, 4).map((card) => (
                <div class="rounded-2xl overflow-hidden shadow-lg">
                    <img
                        src={card.src}
                        alt={card.alt}
                        class="w-full h-full object-cover"
                    />
                </div>
            ))
        }

        <!-- middle card di tengah -->
        <div
            class="row-span-2 col-span-2 bg-green-900 rounded-2xl shadow-xl flex flex-col items-center justify-center p-8 text-center text-white order-none"
        >
            <h2 class="text-2xl font-bold mb-4">Our Vision</h2>
            <p class="mb-6">
                Connecting farmers, entrepreneurs, and shoppers in a sustainable
                way.
            </p>
            <button
                class="px-6 py-3 bg-white text-green-900 font-bold rounded-full shadow-md hover:scale-105 transition"
            >
                Learn More
            </button>
        </div>

        <!-- kartu acak sisanya -->
        {
            cards.slice(4).map((card) => (
                <div class="rounded-2xl overflow-hidden shadow-lg">
                    <img
                        src={card.src}
                        alt={card.alt}
                        class="w-full h-full object-cover"
                    />
                </div>
            ))
        }
    </div>
</div>
